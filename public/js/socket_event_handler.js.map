{"version":3,"sources":["socket.io.event.handler.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"socket_event_handler.js","sourcesContent":["var app = app || {};\n\n$(function () {\n    var socket = io(location.protocol + '//' + location.hostname + ':3000', {'connect timeout': 1000});\n    requester = app.requester.load();\n\n    socket.on('connect', function() {\n        // Connected, let's sign-up for to receive messages for this rooms\n        socket.emit('room', \"enacted-channel-\" + $('#user_id').val());\n    });\n\n    socket.on('message', function(data) {\n        var type = data.type;\n        var date_time = data.date_time;\n\n        if (type == 'task' || type == 'reminder') {\n            var taskNotifSelector = $('#tasksCount');\n            var reminderNotifSelector = $('#remindersCount');\n\n            if (type == 'task') {\n                var taskNotifCount = parseInt(taskNotifSelector.html()) + 1;\n                taskNotifSelector.html(taskNotifCount);\n                $('#lastTaskDateTime').html(date_time);\n            } else if (type == 'reminder') {\n                var reminderNotifCount = parseInt(reminderNotifSelector.html()) + 1;\n                reminderNotifSelector.html(reminderNotifCount);\n                $('#lastReminderDateTime').html(date_time);\n            }\n\n            $('#notificationsCount').html(parseInt(taskNotifSelector.html()) + parseInt(reminderNotifSelector.html()));\n        } else if (type == 'violation') {\n            var notifSelector = $('.violation_notification_count').find('span');\n            var notifCount = parseInt(notifSelector.html()) + 1;\n            notifSelector.html(notifCount);\n        }\n    });\n});\n"],"sourceRoot":"/source/"}